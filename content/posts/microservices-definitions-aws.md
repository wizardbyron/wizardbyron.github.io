---
title: "微服务概念背后的逻辑——云计算厂商是如何定义微服务的？"
date: 2021-12-14T11:18:14+08:00
draft: true
categories: 
  - 微服务
tags:
  - 微服务
---

在2018年写下了[《讨论微服务之前，你知道微服务的 4 个定义吗？》](/posts/2018-09-14-four-definitions-of-microservices)。三年来，关于什么是微服务，分歧越来越多。其中，CNCF 的“云原生”概念虽然描述了什么是“云原生”，但是对于“微服务”的概念却避而不答。那么，我们就从主流云服务厂商（AWS，Azure，GCP）的对微服务定义中一窥究竟，也许能得到一些共识。

1. AWS 的微服务定义
2. Azure 的微服务定义
3. GCP 的微服务定义
4. 不同云服务厂商微服务定义的共同之处

## AWS 的微服务定义

来源：<https://aws.amazon.com/cn/microservices/>

> 微服务是一种开发软件的架构和组织方法，其中软件由通过明确定义的 API 进行通信的小型独立服务组成。这些服务由各个小型独立团队负责。
> 微服务架构使应用程序更易于扩展和更快地开发，从而加速创新并缩短新功能的上市时间。

在 AWS 的微服务定义中，微服务不光是软件架构的方法，而且是组织的方法。 AWS 利用“康威定律”将应用架构和组织架构对应。通过组织架构来简化应用架构的复杂性。这里面显而易见的逻辑是“服务的独立”和“团队的独立”，这很像 UNIX 的哲学：

> 程序应该只关注一个目标，并尽可能把它做好。让程序能够互相协同工作。应该让程序处理文本数据流，因为这是一个通用的接口。

这是 Unix 系统上管道机制的发明者，也是Unix文化的缔造者之一 道格拉斯·麦克罗伊归纳的哲学。这和服务架构概念的最早提出者[James Lewis 的微服务定义](/posts/2018-09-14-four-definitions-of-microservices/#james-lewis-原始版的微服务-6-大特征)是一致的。微服务的本身就是来自于 UNIX 哲学。而 AWS 则更进一步将这种哲学应用到组织架构中。避免“康威定律”带来的问题。

在 AWS 的微服务定义中，第二句则是表明了作为架构方法的微服务的优势：应用“易于扩展”和“快速开发”。

以及对应的商业价值：加速创新并缩短新功能的上市时间。

而加速创新并缩短功能的上市时间则是敏捷软件开发和 DevOps 的的目标。

因此，如果你单一采用敏捷软件开发或者 DevOps，碰到的问题就是应用架构的不敏捷。




此外，在 AWS 的官网中，还补充了微服务的两个特性：

> 自主性：可以对微服务架构中的每个组件服务进行开发、部署、运营和扩展，而不影响其他服务的功能。这些服务不需要与其他服务共享任何代码或实施。各个组件之间的任何通信都是通过明确定义的 API 进行的。
> 专用性：每项服务都是针对一组功能而设计的，并专注于解决特定的问题。如果开发人员逐渐将更多代码增加到一项服务中并且这项服务变得复杂，那么可以将其拆分成多项更小的服务。

这两个特性是对“独立”这一概念进一步的补充。

第一条表明了
